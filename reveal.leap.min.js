/*!
 *	leapmotion/leapjs - leap.min.js v0.1.2
 *	Copyright (c) 2013, Leap Motion, Inc.
 *	All rights reserved.
 */
(function(n,t,i){function u(i,r){var o,e;if(!t[i]){if(!n[i]){if(o=typeof require=="function"&&require,!r&&o)return o(i,!0);if(f)return f(i,!0);throw new Error("Cannot find module '"+i+"'");}e=t[i]={exports:{}},n[i][0].call(e.exports,function(t){var r=n[i][1][t];return u(r?r:t)},e,e.exports)}return t[i].exports}for(var f=typeof require=="function"&&require,r=0;r<i.length;r++)u(i[r]);return u})({1:[function(){var n=function(){function y(){var t,r,n;if(!l){try{t=i.getElementsByTagName("body")[0].appendChild(c("span")),t.parentNode.removeChild(t)}catch(u){return}for(l=!0,r=b.length,n=0;n<r;n++)b[n]()}}function pt(n){l?n():b[b.length]=n}function wt(n){if(typeof u.addEventListener!=r)u.addEventListener("load",n,!1);else if(typeof i.addEventListener!=r)i.addEventListener("load",n,!1);else if(typeof u.attachEvent!=r)fi(u,"onload",n);else if(typeof u.onload=="function"){var t=u.onload;u.onload=function(){t(),n()}}else u.onload=n}function ni(){at?ti():rt()}function ti(){var o=i.getElementsByTagName("body")[0],u=c(e),n,f;u.setAttribute("type",w),n=o.appendChild(u),n?(f=0,function(){if(typeof n.GetVariable!=r){var i=n.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),t.pv=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)])}else if(f<10){f++,setTimeout(arguments.callee,10);return}o.removeChild(u),n=null,rt()}()):rt()}function rt(){var y=h.length,i,n,s,c,v;if(y>0)for(i=0;i<y;i++){var u=h[i].id,e=h[i].callbackFn,o={success:!1,id:u};if(t.pv[0]>0){if(n=f(u),n)if(!nt(h[i].swfVersion)||t.wk&&t.wk<312)if(h[i].expressInstall&&ft()){s={},s.data=h[i].expressInstall,s.width=n.getAttribute("width")||"0",s.height=n.getAttribute("height")||"0",n.getAttribute("class")&&(s.styleclass=n.getAttribute("class")),n.getAttribute("align")&&(s.align=n.getAttribute("align"));var p={},l=n.getElementsByTagName("param"),w=l.length;for(c=0;c<w;c++)l[c].getAttribute("name").toLowerCase()!="movie"&&(p[l[c].getAttribute("name")]=l[c].getAttribute("value"));et(s,p,u,e)}else ii(n),e&&e(o);else a(u,!0),e&&(o.success=!0,o.ref=ut(u),e(o))}else a(u,!0),e&&(v=ut(u),v&&typeof v.SetVariable!=r&&(o.success=!0,o.ref=v),e(o))}}function ut(n){var i=null,t=f(n),u;return t&&t.nodeName=="OBJECT"&&(typeof t.SetVariable!=r?i=t:(u=t.getElementsByTagName(e)[0],u&&(i=u))),i}function ft(){return!g&&nt("6.0.65")&&(t.win||t.mac)&&!(t.wk&&t.wk<312)}function et(n,e,o,s){var h,v,l,a;g=!0,tt=s||null,vt={success:!1,id:o},h=f(o),h&&(h.nodeName=="OBJECT"?(p=ot(h),d=null):(p=h,d=o),n.id=ct,(typeof n.width==r||!/%$/.test(n.width)&&parseInt(n.width,10)<310)&&(n.width="310"),(typeof n.height==r||!/%$/.test(n.height)&&parseInt(n.height,10)<137)&&(n.height="137"),i.title=i.title.slice(0,47)+" - Flash Player Installation",v=t.ie&&t.win?"ActiveX":"PlugIn",l="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+v+"&MMdoctitle="+i.title,typeof e.flashvars!=r?e.flashvars+="&"+l:e.flashvars=l,t.ie&&t.win&&h.readyState!=4&&(a=c("div"),o+="SWFObjectNew",a.setAttribute("id",o),h.parentNode.insertBefore(a,h),h.style.display="none",function(){h.readyState==4?h.parentNode.removeChild(h):setTimeout(arguments.callee,10)}()),st(n,e,o))}function ii(n){if(t.ie&&t.win&&n.readyState!=4){var i=c("div");n.parentNode.insertBefore(i,n),i.parentNode.replaceChild(ot(n),i),n.style.display="none",function(){n.readyState==4?n.parentNode.removeChild(n):setTimeout(arguments.callee,10)}()}else n.parentNode.replaceChild(ot(n),n)}function ot(n){var u=c("div"),f,i,o,r;if(t.win&&t.ie)u.innerHTML=n.innerHTML;else if(f=n.getElementsByTagName(e)[0],f&&(i=f.childNodes,i))for(o=i.length,r=0;r<o;r++)i[r].nodeType==1&&i[r].nodeName=="PARAM"||i[r].nodeType==8||u.appendChild(i[r].cloneNode(!0));return u}function st(n,i,u){var v,y=f(u),p,o,b,a,h,s,l;if(t.wk&&t.wk<312)return v;if(y)if(typeof n.id==r&&(n.id=u),t.ie&&t.win){p="";for(o in n)n[o]!=Object.prototype[o]&&(o.toLowerCase()=="data"?i.movie=n[o]:o.toLowerCase()=="styleclass"?p+=' class="'+n[o]+'"':o.toLowerCase()!="classid"&&(p+=" "+o+'="'+n[o]+'"'));b="";for(a in i)i[a]!=Object.prototype[a]&&(b+='<param name="'+a+'" value="'+i[a]+'" />');y.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+p+">"+b+"<\/object>",k[k.length]=n.id,v=f(n.id)}else{h=c(e),h.setAttribute("type",w);for(s in n)n[s]!=Object.prototype[s]&&(s.toLowerCase()=="styleclass"?h.setAttribute("class",n[s]):s.toLowerCase()!="classid"&&h.setAttribute(s,n[s]));for(l in i)i[l]!=Object.prototype[l]&&l.toLowerCase()!="movie"&&ri(h,l,i[l]);y.parentNode.replaceChild(h,y),v=h}return v}function ri(n,t,i){var r=c("param");r.setAttribute("name",t),r.setAttribute("value",i),n.appendChild(r)}function bt(n){var i=f(n);i&&i.nodeName=="OBJECT"&&(t.ie&&t.win?(i.style.display="none",function(){i.readyState==4?ui(n):setTimeout(arguments.callee,10)}()):i.parentNode.removeChild(i))}function ui(n){var t=f(n),i;if(t){for(i in t)typeof t[i]=="function"&&(t[i]=null);t.parentNode.removeChild(t)}}function f(n){var t=null;try{t=i.getElementById(n)}catch(r){}return t}function c(n){return i.createElement(n)}function fi(n,t,i){n.attachEvent(t,i),v[v.length]=[n,t,i]}function nt(n){var r=t.pv,i=n.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,r[0]>i[0]||r[0]==i[0]&&r[1]>i[1]||r[0]==i[0]&&r[1]==i[1]&&r[2]>=i[2]?!0:!1}function kt(n,u,f,s){var a,h,l;t.ie&&t.mac||(a=i.getElementsByTagName("head")[0],a)&&(h=f&&typeof f=="string"?f:"screen",s&&(o=null,it=null),o&&it==h||(l=c("style"),l.setAttribute("type","text/css"),l.setAttribute("media",h),o=a.appendChild(l),t.ie&&t.win&&typeof i.styleSheets!=r&&i.styleSheets.length>0&&(o=i.styleSheets[i.styleSheets.length-1]),it=h),t.ie&&t.win?o&&typeof o.addRule==e&&o.addRule(n,u):o&&typeof i.createTextNode!=r&&o.appendChild(i.createTextNode(n+" {"+u+"}")))}function a(n,t){if(yt){var i=t?"visible":"hidden";l&&f(n)?f(n).style.visibility=i:kt("#"+n,"visibility:"+i)}}function dt(n){var t=/[\\\"<>\.;]/.exec(n)!=null;return t&&typeof encodeURIComponent!=r?encodeURIComponent(n):n}var r="undefined",e="object",ht="Shockwave Flash",gt="ShockwaveFlash.ShockwaveFlash",w="application/x-shockwave-flash",ct="SWFObjectExprInst",lt="onreadystatechange",u=window,i=document,s=navigator,at=!1,b=[ni],h=[],k=[],v=[],p,d,tt,vt,l=!1,g=!1,o,it,yt=!0,t=function(){var l=typeof i.getElementById!=r&&typeof i.getElementsByTagName!=r&&typeof i.createElement!=r,f=s.userAgent.toLowerCase(),o=s.platform.toLowerCase(),a=o?/win/.test(o):/win/.test(f),v=o?/mac/.test(o):/mac/.test(f),y=/webkit/.test(f)?parseFloat(f.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,h=!1,t=[0,0,0],n=null,c;if(typeof s.plugins!=r&&typeof s.plugins[ht]==e)n=s.plugins[ht].description,!n||typeof s.mimeTypes!=r&&s.mimeTypes[w]&&!s.mimeTypes[w].enabledPlugin||(at=!0,h=!1,n=n.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),t[0]=parseInt(n.replace(/^(.*)\..*$/,"$1"),10),t[1]=parseInt(n.replace(/^.*\.(.*)\s.*$/,"$1"),10),t[2]=/[a-zA-Z]/.test(n)?parseInt(n.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof u.ActiveXObject!=r)try{c=new ActiveXObject(gt),c&&(n=c.GetVariable("$version"),n&&(h=!0,n=n.split(" ")[1].split(","),t=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]))}catch(p){}return{w3:l,pv:t,wk:y,ie:h,win:a,mac:v}}(),ei=function(){t.w3&&((typeof i.readyState!=r&&i.readyState=="complete"||typeof i.readyState==r&&(i.getElementsByTagName("body")[0]||i.body))&&y(),l||(typeof i.addEventListener!=r&&i.addEventListener("DOMContentLoaded",y,!1),t.ie&&t.win&&(i.attachEvent(lt,function(){i.readyState=="complete"&&(i.detachEvent(lt,arguments.callee),y())}),u==top&&function(){if(!l){try{i.documentElement.doScroll("left")}catch(n){setTimeout(arguments.callee,0);return}y()}}()),t.wk&&function(){if(!l){if(!/loaded|complete/.test(i.readyState)){setTimeout(arguments.callee,0);return}y()}}(),wt(y)))}(),oi=function(){t.ie&&t.win&&window.attachEvent("onunload",function(){for(var o=v.length,u,r,f,e,i=0;i<o;i++)v[i][0].detachEvent(v[i][1],v[i][2]);for(u=k.length,r=0;r<u;r++)bt(k[r]);for(f in t)t[f]=null;t=null;for(e in n)n[e]=null;n=null})}();return{registerObject:function(n,i,r,u){if(t.w3&&n&&i){var f={};f.id=n,f.swfVersion=i,f.expressInstall=r,f.callbackFn=u,h[h.length]=f,a(n,!1)}else u&&u({success:!1,id:n})},getObjectById:function(n){if(t.w3)return ut(n)},embedSWF:function(n,i,u,f,o,s,h,c,l,v){var y={success:!1,id:i};t.w3&&!(t.wk&&t.wk<312)&&n&&i&&u&&f&&o?(a(i,!1),pt(function(){var t,b,p,k,w,d;if(u+="",f+="",t={},l&&typeof l===e)for(b in l)t[b]=l[b];if(t.data=n,t.width=u,t.height=f,p={},c&&typeof c===e)for(k in c)p[k]=c[k];if(h&&typeof h===e)for(w in h)typeof p.flashvars!=r?p.flashvars+="&"+w+"="+h[w]:p.flashvars=w+"="+h[w];if(nt(o))d=st(t,p,i),t.id==i&&a(i,!0),y.success=!0,y.ref=d;else{if(s&&ft()){t.data=s,et(t,p,i,v);return}a(i,!0)}v&&v(y)})):v&&v(y)},switchOffAutoHideShow:function(){yt=!1},ua:t,getFlashPlayerVersion:function(){return{major:t.pv[0],minor:t.pv[1],release:t.pv[2]}},hasFlashPlayerVersion:nt,createSWF:function(n,i,r){return t.w3?st(n,i,r):undefined},showExpressInstall:function(n,i,r,u){t.w3&&ft()&&et(n,i,r,u)},removeSWF:function(n){t.w3&&bt(n)},createCSS:function(n,i,r,u){t.w3&&kt(n,i,r,u)},addDomLoadEvent:pt,addLoadEvent:wt,getQueryParamValue:function(n){var r=i.location.search||i.location.hash,u,t;if(r){if(/\?/.test(r)&&(r=r.split("?")[1]),n==null)return dt(r);for(u=r.split("&"),t=0;t<u.length;t++)if(u[t].substring(0,u[t].indexOf("="))==n)return dt(u[t].substring(u[t].indexOf("=")+1))}return""},expressInstallCallback:function(){if(g){var n=f(ct);n&&p&&(n.parentNode.replaceChild(p,n),d&&(a(d,!0),t.ie&&t.win&&(p.style.display="block")),tt&&tt(vt)),g=!1}}}}()},{}],2:[function(){(function(){(function(){if(!window.WEB_SOCKET_FORCE_FLASH){if(window.WebSocket)return;if(window.MozWebSocket){window.WebSocket=MozWebSocket;return}}var n;if(n=window.WEB_SOCKET_LOGGER?WEB_SOCKET_LOGGER:window.console&&window.console.log&&window.console.error?window.console:{log:function(){},error:function(){}},swfobject.getFlashPlayerVersion().major<10){n.error("Flash Player >= 10.0.0 is required.");return}location.protocol=="file:"&&n.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),window.WebSocket=function(n,t,i,r,u){var f=this;f.__id=WebSocket.__nextId++,WebSocket.__instances[f.__id]=f,f.readyState=WebSocket.CONNECTING,f.bufferedAmount=0,f.__events={},t?typeof t=="string"&&(t=[t]):t=[],f.__createTask=setTimeout(function(){WebSocket.__addTask(function(){f.__createTask=null,WebSocket.__flash.create(f.__id,n,t,i||null,r||0,u||null)})},0)},WebSocket.prototype.send=function(n){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";var t=WebSocket.__flash.send(this.__id,encodeURIComponent(n));return t<0?!0:(this.bufferedAmount+=t,!1)},WebSocket.prototype.close=function(){if(this.__createTask){clearTimeout(this.__createTask),this.__createTask=null,this.readyState=WebSocket.CLOSED;return}this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.CLOSING&&(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(n,t){n in this.__events||(this.__events[n]=[]),this.__events[n].push(t)},WebSocket.prototype.removeEventListener=function(n,t){var r,i;if(n in this.__events)for(r=this.__events[n],i=r.length-1;i>=0;--i)if(r[i]===t){r.splice(i,1);break}},WebSocket.prototype.dispatchEvent=function(n){for(var r=this.__events[n.type]||[],i,t=0;t<r.length;++t)r[t](n);i=this["on"+n.type],i&&i.apply(this,[n])},WebSocket.prototype.__handleEvent=function(n){var t,i;if("readyState"in n&&(this.readyState=n.readyState),"protocol"in n&&(this.protocol=n.protocol),n.type=="open"||n.type=="error")t=this.__createSimpleEvent(n.type);else if(n.type=="close")t=this.__createSimpleEvent("close"),t.wasClean=n.wasClean?!0:!1,t.code=n.code,t.reason=n.reason;else if(n.type=="message")i=decodeURIComponent(n.message),t=this.__createMessageEvent("message",i);else throw"unknown event type: "+n.type;this.dispatchEvent(t)},WebSocket.prototype.__createSimpleEvent=function(n){if(document.createEvent&&window.Event){var t=document.createEvent("Event");return t.initEvent(n,!1,!1),t}return{type:n,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(n,t){if(document.createEvent&&window.MessageEvent&&!window.opera){var i=document.createEvent("MessageEvent");return i.initMessageEvent("message",!1,!1,t,null,null,window,null),i}return{type:n,data:t,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__isFlashImplementation=!0,WebSocket.__initialized=!1,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(n){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(n)})},WebSocket.__initialize=function(){var i,t,r;if(!WebSocket.__initialized){if(WebSocket.__initialized=!0,WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),!window.WEB_SOCKET_SWF_LOCATION){n.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");return}window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR||WEB_SOCKET_SWF_LOCATION.match(/(^|\/)WebSocketMainInsecure\.swf(\?.*)?$/)||!WEB_SOCKET_SWF_LOCATION.match(/^\w+:\/\/([^\/]+)/)||(i=RegExp.$1,location.host!=i&&n.error("[WebSocket] You must host HTML and WebSocketMain.swf in the same host ('"+location.host+"' != '"+i+"'). See also 'How to host HTML file and SWF file in different domains' section in README.md. If you use WebSocketMainInsecure.swf, you can suppress this message by WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR = true;")),t=document.createElement("div"),t.id="webSocketContainer",t.style.position="absolute",WebSocket.__isFlashLite()?(t.style.left="0px",t.style.top="0px"):(t.style.left="-100px",t.style.top="-100px"),r=document.createElement("div"),r.id="webSocketFlash",t.appendChild(r),document.body.appendChild(t),swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(t){t.success||n.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash"),WebSocket.__flash.setCallerUrl(location.href),WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var n=0;n<WebSocket.__tasks.length;++n)WebSocket.__tasks[n]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){return setTimeout(function(){var i,t;try{for(i=WebSocket.__flash.receiveEvents(),t=0;t<i.length;++t)WebSocket.__instances[i[t].webSocketId].__handleEvent(i[t])}catch(r){n.error(r)}},0),!0},WebSocket.__log=function(t){n.log(decodeURIComponent(t))},WebSocket.__error=function(t){n.error(decodeURIComponent(t))},WebSocket.__addTask=function(n){WebSocket.__flash?n():WebSocket.__tasks.push(n)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var n=window.navigator.mimeTypes["application/x-shockwave-flash"];return!n||!n.enabledPlugin||!n.enabledPlugin.filename?!1:n.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||swfobject.addDomLoadEvent(function(){WebSocket.__initialize()})})()})()},{}],3:[function(n){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}(),Leap=n("../lib/index").Leap},{"../lib/index":4}],4:[function(n,t,i){(function(){var r=n("./controller").Controller,u=n("./frame").Frame,f=n("./gesture").Gesture,e=n("./hand").Hand,o=n("./pointable").Pointable,s=n("./vector").Vector,h=n("./matrix").Matrix,c=n("./connection").Connection,l=n("./circular_buffer").CircularBuffer,a=n("./ui").UI,t=undefined;i.Leap={loop:function(n,i){i===undefined&&(i=n,n={}),t||(t=new r(n)),t.loop(i)},Controller:r,Frame:u,Gesture:f,Hand:e,Pointable:o,Vector:s,Matrix:h,Connection:c,CircularBuffer:l,UI:a}})()},{"./controller":5,"./frame":6,"./gesture":7,"./hand":8,"./pointable":9,"./vector":10,"./matrix":11,"./connection":12,"./circular_buffer":13,"./ui":14}],10:[function(n,t,i){var r=i.Vector=function(n){n==null?(this.x=0,this.y=0,this.z=0):"x"in n?(this.x=n.x,this.y=n.y,this.z=n.z):"0"in n&&(this.x=typeof n[0]=="number"?n[0]:0,this.y=typeof n[1]=="number"?n[1]:0,this.z=typeof n[2]=="number"?n[2]:0)};r.prototype={angleTo:function(n){var t=this.magnitude()*n.magnitude();return t>0?Math.acos(this.dot(n)/t):0},cross:function(n){var t=this.y*n.z-n.y*this.z,i=this.x*n.z-n.x*this.z,u=this.x*n.y-n.x*this.y;return new r([t,i,u])},distanceTo:function(n){return this.minus(n).magnitude()},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z},plus:function(n){return new r([this.x+n.x,this.y+n.y,this.z+n.z])},minus:function(n){return new r([this.x-n.x,this.y-n.y,this.z-n.z])},multiply:function(n){return new r([this.x*n,this.y*n,this.z*n])},dividedBy:function(n){return new r([this.x/n,this.y/n,this.z/n])},magnitude:function(){return Math.sqrt(this.magnitudeSquared())},magnitudeSquared:function(){return Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2)},normalized:function(){var n=this.magnitude();return n>0?this.dividedBy(n):new r},pitch:function(){return Math.atan2(this.y,-this.z)},roll:function(){return Math.atan2(this.x,-this.y)},yaw:function(){return Math.atan2(this.x,-this.z)},toArray:function(){return[this.x,this.y,this.z]},toString:function(){return"{x:"+this.x+",y:"+this.y+",z:"+this.z+"}"},compare:function(n){return this.x==n.x&&this.y==n.y&&this.z==n.z},isValid:function(){return this.x!=NaN&&this.x>-Infinity&&this.x<Infinity&&this.y!=NaN&&this.y>-Infinity&&this.y<Infinity&&this.z!=NaN&&this.z>-Infinity&&this.z<Infinity}},r.backward=function(){return new r([0,0,1])},r.down=function(){return new r([0,-1,0])},r.forward=function(){return new r([0,0,-1])},r.left=function(){return new r([-1,0,0])},r.right=function(){return new r([1,0,0])},r.up=function(){return new r([0,1,0])},r.xAxis=function(){return new r([1,0,0])},r.yAxis=function(){return new r([0,1,0])},r.zAxis=function(){return new r([0,0,1])},r.zero=function(){return new r([0,0,0])}},{}],13:[function(n,t,i){var r=i.CircularBuffer=function(n){this.pos=0,this._buf=[],this.size=n};r.prototype.get=function(n){return(n==undefined&&(n=0),n>=this.size)?undefined:n>=this._buf.length?undefined:this._buf[(this.pos-n-1)%this.size]},r.prototype.push=function(n){return this._buf[this.pos%this.size]=n,this.pos++}},{}],15:[function(n,t){var i=t.exports={};i.nextTick=function(){var t=typeof window!="undefined"&&window.setImmediate,i=typeof window!="undefined"&&window.postMessage&&window.addEventListener,n;return t?function(n){return window.setImmediate(n)}:i?(n=[],window.addEventListener("message",function(t){if(t.source===window&&t.data==="process-tick"&&(t.stopPropagation(),n.length>0)){var i=n.shift();i()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}):function(n){setTimeout(n,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.binding=function(){throw new Error("process.binding is not supported");},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported");}},{}],16:[function(n,t,i){(function(n){function f(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0;i<n.length;i++)if(t===n[i])return i;return-1}var t,r,u;n.EventEmitter||(n.EventEmitter=function(){}),t=i.EventEmitter=n.EventEmitter,r=typeof Array.isArray=="function"?Array.isArray:function(n){return Object.prototype.toString.call(n)==="[object Array]"},u=10,t.prototype.setMaxListeners=function(n){this._events||(this._events={}),this._events.maxListeners=n},t.prototype.emit=function(n){var t,i,f,u,e;if(n==="error"&&(!this._events||!this._events.error||r(this._events.error)&&!this._events.error.length)){if(arguments[1]instanceof Error)throw arguments[1];else throw new Error("Uncaught, unspecified 'error' event.");return!1}if(!this._events||(t=this._events[n],!t))return!1;if(typeof t=="function"){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),t.apply(this,i)}return!0}if(r(t)){for(i=Array.prototype.slice.call(arguments,1),f=t.slice(),u=0,e=f.length;u<e;u++)f[u].apply(this,i);return!0}return!1},t.prototype.addListener=function(n,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",n,t),this._events[n])if(r(this._events[n])){if(!this._events[n].warned){var i;i=this._events.maxListeners!==undefined?this._events.maxListeners:u,i&&i>0&&this._events[n].length>i&&(this._events[n].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[n].length),console.trace())}this._events[n].push(t)}else this._events[n]=[this._events[n],t];else this._events[n]=t;return this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(n,t){var i=this;i.on(n,function r(){i.removeListener(n,r),t.apply(this,arguments)});return this},t.prototype.removeListener=function(n,t){var i,u;if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[n])return this;if(i=this._events[n],r(i)){if(u=f(i,t),u<0)return this;i.splice(u,1),i.length==0&&delete this._events[n]}else this._events[n]===t&&delete this._events[n];return this},t.prototype.removeAllListeners=function(n){return arguments.length===0?(this._events={},this):(n&&this._events&&this._events[n]&&(this._events[n]=null),this)},t.prototype.listeners=function(n){return this._events||(this._events={}),this._events[n]||(this._events[n]=[]),r(this._events[n])||(this._events[n]=[this._events[n]]),this._events[n]}})(n("__browserify_process"))},{__browserify_process:15}],7:[function(n,t,i){var r=n("./vector").Vector,s=i.Gesture=function(n){var t=undefined;switch(n.type){case"circle":t=new u(n);break;case"swipe":t=new f(n);break;case"screenTap":t=new e(n);break;case"keyTap":t=new o(n);break;default:throw"unkown gesture type";}return t.id=n.id,t.handIds=n.handIds,t.pointableIds=n.pointableIds,t.duration=n.duration,t.state=n.state,t.type=n.type,t},u=function(n){this.center=new r(n.center),this.normal=new r(n.normal),this.progress=n.progress,this.radius=n.radius},f=function(n){this.startPosition=new r(n.startPosition),this.position=new r(n.position),this.direction=new r(n.direction),this.speed=n.speed},e=function(n){this.position=new r(n.position),this.direction=new r(n.direction),this.progress=n.progress},o=function(n){this.position=new r(n.position),this.direction=new r(n.direction),this.progress=n.progress}},{"./vector":10}],9:[function(n,t,i){var r=n("./vector").Vector,u=i.Pointable=function(n){this.valid=!0,this.id=n.id,this.handId=n.handId,this.length=n.length,this.tool=n.tool,this.width=n.width,this.direction=new r(n.direction),this.tipPosition=new r(n.tipPosition),this.tipVelocity=new r(n.tipVelocity)};u.prototype.toString=function(){return this.tool==!0?"Pointable [ id:"+this.id+" "+this.length+"mmx | with:"+this.width+"mm | direction:"+this.direction+" ]":"Pointable [ id:"+this.id+" "+this.length+"mmx | direction: "+this.direction+" ]"},u.Invalid={valid:!1}},{"./vector":10}],11:[function(n,t,i){var r=n("./vector").Vector,u=i.Matrix=function(n){n instanceof u?(this.xBasis=new r(n.xBasis),this.yBasis=new r(n.yBasis),this.zBasis=new r(n.zBasis),this.origin=new r(n.origin)):n instanceof Array?n[0]instanceof r&&typeof n[1]=="number"?(this.setRotation(n[0],n[1]),this.origin=new r(n[2])):(this.xBasis=new r(n[0]),this.yBasis=new r(n[1]),this.zBasis=new r(n[2]),this.origin=new r(n[3])):(this.xBasis=new r([1,0,0]),this.yBasis=new r([0,1,0]),this.zBasis=new r([0,0,1]),this.origin=new r([0,0,0]))};u.prototype={setRotation:function(n,t){var i=n.normalized(),f=Math.sin(t),e=Math.cos(t),u=1-e;this.xBasis=new r([i.x*i.x*u+e,i.x*i.y*u-i.z*f,i.x*i.z*u+i.y*f]),this.yBasis=new r([i.y*i.x*u+i.z*f,i.y*i.y*u+e,i.y*i.z*u-i.x*f]),this.zBasis=new r([i.z*i.x*u-i.y*f,i.z*i.y*u+i.x*f,i.z*i.z*u+e])},transformPoint:function(n){return this.origin.plus(this.transformDirection(n))},transformDirection:function(n){var t=this.xBasis.multiply(n.x),i=this.yBasis.multiply(n.y),r=this.zBasis.multiply(n.z);return t.plus(i).plus(r)},times:function(n){var t=this.transformDirection(n.xBasis),i=this.transformDirection(n.yBasis),r=this.transformDirection(n.zBasis),f=this.transformPoint(n.origin);return new u([t,i,r,f])},rigidInverse:function(){var t=new r([this.xBasis.x,this.yBasis.x,this.zBasis.x]),i=new r([this.xBasis.y,this.yBasis.y,this.zBasis.y]),f=new r([this.xBasis.z,this.yBasis.z,this.zBasis.z]),n=new u([t,i,f]);return n.origin=n.transformDirection(r.zero().minus(this.origin)),n},toArray3x3:function(n){return n==null?n=[]:n.length=0,n[0]=this.xBasis.x,n[1]=this.xBasis.y,n[2]=this.xBasis.z,n[3]=this.yBasis.x,n[4]=this.yBasis.y,n[5]=this.yBasis.z,n[6]=this.zBasis.x,n[7]=this.zBasis.y,n[8]=this.zBasis.z,n},toArray4x4:function(n){return n==null?n=[]:n.length=0,n[0]=this.xBasis.x,n[1]=this.xBasis.y,n[2]=this.xBasis.z,n[3]=0,n[4]=this.yBasis.x,n[5]=this.yBasis.y,n[6]=this.yBasis.z,n[7]=0,n[8]=this.zBasis.x,n[9]=this.zBasis.y,n[10]=this.zBasis.z,n[11]=0,n[12]=this.origin.x,n[13]=this.origin.y,n[14]=this.origin.z,n[15]=1,n},toString:function(){return"{xBasis:"+this.xBasis+",yBasis:"+this.yBasis+",zBasis:"+this.zBasis+",origin:"+this.origin+"}"},compare:function(n){return this.xBasis.compare(n.xBasis)&&this.yBasis.compare(n.yBasis)&&this.zBasis.compare(n.zBasis)&&this.origin.compare(n.origin)}},u.identity=function(){return new u}},{"./vector":10}],12:[function(n,t,i){var r=i.Connection=n("./base_connection").Connection;r.prototype.setupSocket=function(){var t=this,n=new WebSocket("ws://"+this.host+":"+this.port);return n.onopen=function(){t.handleOpen()},n.onmessage=function(n){t.handleData(n.data)},n.onclose=function(){t.handleClose()},n},r.prototype.teardownSocket=function(){this.socket.close(),delete this.socket,delete this.protocol}},{"./base_connection":17}],14:[function(n,t,i){i.UI={Region:n("./ui/region").Region,Cursor:n("./ui/cursor").Cursor}},{"./ui/region":18,"./ui/cursor":19}],20:[function(n,t,i){var r=i.Pipeline=function(){this.steps=[]};r.prototype.addStep=function(n){this.steps.push(n)},r.prototype.run=function(n){for(var i=this.steps.length,t=0;t!=i;t++){if(!n)break;n=this.steps[t](n)}return n}},{}],19:[function(n,t,i){var r=i.Cursor=function(){return function(n){var t=n.pointables.sort(function(n,t){return n.z-t.z})[0];return t&&t.valid&&(n.cursorPosition=t.tipPosition),n}}},{}],5:[function(n,t,i){var e=typeof window=="undefined",u=n("./frame").Frame,o=n("./circular_buffer").CircularBuffer,s=n("./pipeline").Pipeline,h=n("events").EventEmitter,f=n("underscore"),r=i.Controller=function(n){var t,i;this.opts=f.defaults(n||{},{frameEventName:this.useAnimationLoop()?"animationFrame":"connectionFrame"}),this.history=new o(200),t=this,this.lastFrame=u.Invalid,this.lastValidFrame=u.Invalid,this.lastConnectionFrame=u.Invalid,i=this.connectionType(),this.connection=new i(this.opts),this.accumulatedGestures=[];this.connection.on("frame",function(n){n.gestures&&(t.accumulatedGestures=t.accumulatedGestures.concat(n.gestures)),t.processFrame(n)});this.on(this.opts.frameEventName,function(n){t.processFinishedFrame(n)});this.connection.on("ready",function(){t.emit("ready")});this.connection.on("connect",function(){t.emit("connect")});this.connection.on("disconnect",function(){t.emit("disconnect")})};r.prototype.inBrowser=function(){return!e},r.prototype.useAnimationLoop=function(){return this.inBrowser()&&typeof chrome=="undefined"},r.prototype.connectionType=function(){return(this.inBrowser()?n("./connection"):n("./node_connection")).Connection},r.prototype.connect=function(){var n=this,t;this.connection.connect()&&this.inBrowser()&&(t=function(){n.emit("animationFrame",n.lastConnectionFrame),n.opts.supressAnimationLoop!==!0&&window.requestAnimFrame(t)},n.opts.supressAnimationLoop!==!0&&window.requestAnimFrame(t))},r.prototype.disconnect=function(){this.connection.disconnect()},r.prototype.frame=function(n){return this.history.get(n)||u.Invalid},r.prototype.loop=function(n){switch(n.length){case 1:this.on(this.opts.frameEventName,n);break;case 2:var t=this,i=function(r){n(r,function(){if(t.lastFrame!=r)i(t.lastFrame);else t.once(t.opts.frameEventName,i)})};this.once(this.opts.frameEventName,i)}this.connect()},r.prototype.addStep=function(n){this.pipeline||(this.pipeline=new s(this)),this.pipeline.addStep(n)},r.prototype.processFrame=function(n){this.pipeline&&(n=this.pipeline.run(n),n||(n=u.Invalid)),this.lastConnectionFrame=n,this.emit("connectionFrame",n)},r.prototype.processFinishedFrame=function(n){this.lastFrame=n,n.valid&&(this.lastValidFrame=n),n.gestures&&(n.gestures=this.accumulatedGestures,this.accumulatedGestures=[]),n.controller=this,n.historyIdx=this.history.push(n),this.emit("frame",n)},f.extend(r.prototype,h.prototype)},{events:16,"./frame":6,"./circular_buffer":13,"./pipeline":20,"./connection":12,"./node_connection":21,underscore:22}],6:[function(n,t,i){var e=n("./hand").Hand,f=n("./pointable").Pointable,s=n("./gesture").Gesture,u=n("./vector").Vector,o=n("./matrix").Matrix,h=n("underscore"),r=i.Frame=function(n){var h,r,a,c,v,t,i,l,y;for(this.valid=!0,this.id=n.id,this.timestamp=n.timestamp,this.hands=[],this.handsMap={},this.pointables=[],this.tools=[],this.fingers=[],this.gestures=[],this.pointablesMap={},this._translation=new u(n.t),this.rotation=new o(n.r),this._scaleFactor=n.s,this.data=n,this.type="frame",h={},r=0,a=n.hands.length;r!=a;r++)i=new e(n.hands[r]),i.frame=this,this.hands.push(i),this.handsMap[i.id]=i,h[i.id]=r;for(c=0,v=n.pointables.length;c!=v;c++)t=new f(n.pointables[c]),t.frame=this,this.pointables.push(t),this.pointablesMap[t.id]=t,(t.tool?this.tools:this.fingers).push(t),t.handId&&h.hasOwnProperty(t.handId)&&(i=this.hands[h[t.handId]],i.pointables.push(t),(t.tool?i.tools:i.fingers).push(t));if(n.gestures)for(l=0,y=n.gestures.length;l!=y;l++)this.gestures.push(s(n.gestures[l]))};r.prototype.tool=function(n){var t=this.pointable(n);return t.tool?t:f.Invalid},r.prototype.pointable=function(n){return this.pointablesMap[n]||f.Invalid},r.prototype.finger=function(n){var t=this.pointable(n);return t.tool?f.Invalid:t},r.prototype.hand=function(n){return this.handsMap[n]||e.Invalid},r.prototype.rotationAngle=function(n){if(!this.valid||!n.valid)return 0;var t=this.rotationMatrix(n),r=(t.xBasis.x+t.yBasis.y+t.zBasis.z-1)*.5,i=Math.acos(r);return isNaN(i)?0:i},r.prototype.rotationAxis=function(n){if(!this.valid||!n.valid)return u.zero();var t=this.rotation.zBasis.y-n.rotation.yBasis.z,i=this.rotation.xBasis.z-n.rotation.zBasis.x,r=this.rotation.yBasis.x-n.rotation.xBasis.y,f=new u([t,i,r]);return f.normalized()},r.prototype.rotationMatrix=function(n){if(!this.valid||!n.valid)return o.identity();var t=new u([this.rotation.xBasis.x,this.rotation.yBasis.x,this.rotation.zBasis.x]),i=new u([this.rotation.xBasis.y,this.rotation.yBasis.y,this.rotation.zBasis.y]),r=new u([this.rotation.xBasis.z,this.rotation.yBasis.z,this.rotation.zBasis.z]),f=new o([t,i,r]);return n.rotation.times(f)},r.prototype.scaleFactor=function(n){return!this.valid||!n.valid?1:Math.exp(this._scaleFactor-n._scaleFactor)},r.prototype.translation=function(n){if(!this.valid||!n.valid)return u.zero();var t=this._translation.x-n._translation.x,i=this._translation.y-n._translation.y,r=this._translation.z-n._translation.z;return new u([t,i,r])},r.prototype.toString=function(){var n="Frame [ id:"+this.id+" | timestamp:"+this.timestamp+" | Hand count:("+this.hands.length+") | Pointable count:("+this.pointables.length+")";return this.gestures&&(n+=" | Gesture count:("+this.gestures.length+")"),n+" ]"},r.prototype.dump=function(){var n="",t,u,i,f,r,e;for(n+="Frame Info:<br/>",n+=this.toString(),n+="<br/><br/>Hands:<br/>",t=0,u=this.hands.length;t!=u;t++)n+="  "+this.hands[t].toString()+"<br/>";for(n+="<br/><br/>Pointables:<br/>",i=0,f=this.pointables.length;i!=f;i++)n+="  "+this.pointables[i].toString()+"<br/>";if(this.gestures)for(n+="<br/><br/>Gestures:<br/>",r=0,e=this.gestures.length;r!=e;r++)n+="  "+this.gestures[r].toString()+"<br/>";return n+="<br/><br/>Raw JSON:<br/>",n+JSON.stringify(this.data)},r.Invalid={valid:!1,hands:[],fingers:[],tools:[],gestures:[],pointables:[],pointable:function(){return f.Invalid},finger:function(){return f.Invalid},hand:function(){return e.Invalid},toString:function(){return"invalid frame"},dump:function(){return this.toString()}}},{"./hand":8,"./pointable":9,"./gesture":7,"./vector":10,"./matrix":11,underscore:22}],8:[function(n,t,i){var e=n("./pointable").Pointable,r=n("./vector").Vector,f=n("./matrix").Matrix,o=n("underscore"),u=i.Hand=function(n){this.id=n.id,this.palmPosition=new r(n.palmPosition),this.direction=new r(n.direction),this.palmVelocity=new r(n.palmVelocity),this.palmNormal=new r(n.palmNormal),this.sphereCenter=new r(n.sphereCenter),this.sphereRadius=n.sphereRadius,this.valid=!0,this.pointables=[],this.fingers=[],this.tools=[],this._translation=new r(n.t),this.rotation=new f(n.r),this._scaleFactor=n.s};u.prototype.finger=function(n){var t=this.frame.finger(n);return t&&t.handId==this.id?t:e.Invalid},u.prototype.rotationAngle=function(n){var i;if(!this.valid||!n.valid||(i=n.hand(this.id),!i.valid))return 0;var t=this.rotationMatrix(n),u=(t.xBasis.x+t.yBasis.y+t.zBasis.z-1)*.5,r=Math.acos(u);return isNaN(r)?0:r},u.prototype.rotationAxis=function(n){var t;if(!this.valid||!n.valid||(t=n.hand(this.id),!t.valid))return r.zero();var i=this.rotation.zBasis.y-t.rotation.yBasis.z,u=this.rotation.xBasis.z-t.rotation.zBasis.x,f=this.rotation.yBasis.x-t.rotation.xBasis.y,e=new r([i,u,f]);return e.normalized()},u.prototype.rotationMatrix=function(n){var t;if(!this.valid||!n.valid||(t=n.hand(this.id),!t.valid))return f.identity();var i=new r([this.rotation.xBasis.x,this.rotation.yBasis.x,this.rotation.zBasis.x]),u=new r([this.rotation.xBasis.y,this.rotation.yBasis.y,this.rotation.zBasis.y]),e=new r([this.rotation.xBasis.z,this.rotation.yBasis.z,this.rotation.zBasis.z]),o=new f([i,u,e]);return t.rotation.times(o)},u.prototype.scaleFactor=function(n){if(!this.valid||!n.valid)return 1;var t=n.hand(this.id);return t.valid?Math.exp(this._scaleFactor-t._scaleFactor):1},u.prototype.translation=function(n){var t;if(!this.valid||!n.valid||(t=n.hand(this.id),!t.valid))return r.zero();var i=this._translation.x-t._translation.x,u=this._translation.y-t._translation.y,f=this._translation.z-t._translation.z;return new r([i,u,f])},u.prototype.toString=function(){return"Hand [ id: "+this.id+" | palm velocity:"+this.palmVelocity+" | sphere center:"+this.sphereCenter+" ] "},u.Invalid={valid:!1}},{"./pointable":9,"./vector":10,"./matrix":11,underscore:22}],22:[function(n,t,i){(function(){(function(){var y=this,at=y._,s={},f=Array.prototype,tt=Object.prototype,vt=Function.prototype,p=f.push,r=f.slice,h=f.concat,o=tt.toString,yt=tt.hasOwnProperty,it=f.forEach,rt=f.map,ut=f.reduce,ft=f.reduceRight,et=f.filter,ot=f.every,st=f.some,c=f.indexOf,ht=f.lastIndexOf,pt=Array.isArray,wt=Object.keys,w=vt.bind,n=function(t){if(t instanceof n)return t;if(!(this instanceof n))return new n(t);this._wrapped=t},u,b,k,l,d,g,a,e,ct,lt,v;typeof i!="undefined"?(typeof t!="undefined"&&t.exports&&(i=t.exports=n),i._=n):y._=n,n.VERSION="1.4.4",u=n.each=n.forEach=function(t,i,r){var u,e,f;if(t!=null)if(it&&t.forEach===it)t.forEach(i,r);else if(t.length===+t.length){for(u=0,e=t.length;u<e;u++)if(i.call(r,t[u],u,t)===s)return}else for(f in t)if(n.has(t,f)&&i.call(r,t[f],f,t)===s)return},n.map=n.collect=function(n,t,i){var r=[];return n==null?r:rt&&n.map===rt?n.map(t,i):(u(n,function(n,u,f){r[r.length]=t.call(i,n,u,f)}),r)},b="Reduce of empty array with no initial value",n.reduce=n.foldl=n.inject=function(t,i,r,f){var e=arguments.length>2;if(t==null&&(t=[]),ut&&t.reduce===ut)return f&&(i=n.bind(i,f)),e?t.reduce(i,r):t.reduce(i);if(u(t,function(n,t,u){e?r=i.call(f,r,n,t,u):(r=n,e=!0)}),!e)throw new TypeError(b);return r},n.reduceRight=n.foldr=function(t,i,r,f){var o=arguments.length>2,e,s;if(t==null&&(t=[]),ft&&t.reduceRight===ft)return f&&(i=n.bind(i,f)),o?t.reduceRight(i,r):t.reduceRight(i);if(e=t.length,e!==+e&&(s=n.keys(t),e=s.length),u(t,function(n,u,h){u=s?s[--e]:--e,o?r=i.call(f,r,t[u],u,h):(r=t[u],o=!0)}),!o)throw new TypeError(b);return r},n.find=n.detect=function(n,t,i){var r;return k(n,function(n,u,f){if(t.call(i,n,u,f))return r=n,!0}),r},n.filter=n.select=function(n,t,i){var r=[];return n==null?r:et&&n.filter===et?n.filter(t,i):(u(n,function(n,u,f){t.call(i,n,u,f)&&(r[r.length]=n)}),r)},n.reject=function(t,i,r){return n.filter(t,function(n,t,u){return!i.call(r,n,t,u)},r)},n.every=n.all=function(t,i,r){i||(i=n.identity);var f=!0;return t==null?f:ot&&t.every===ot?t.every(i,r):(u(t,function(n,t,u){if(!(f=f&&i.call(r,n,t,u)))return s}),!!f)},k=n.some=n.any=function(t,i,r){i||(i=n.identity);var f=!1;return t==null?f:st&&t.some===st?t.some(i,r):(u(t,function(n,t,u){if(f||(f=i.call(r,n,t,u)))return s}),!!f)},n.contains=n.include=function(n,t){return n==null?!1:c&&n.indexOf===c?n.indexOf(t)!=-1:k(n,function(n){return n===t})},n.invoke=function(t,i){var u=r.call(arguments,2),f=n.isFunction(i);return n.map(t,function(n){return(f?i:n[i]).apply(n,u)})},n.pluck=function(t,i){return n.map(t,function(n){return n[i]})},n.where=function(t,i,r){return n.isEmpty(i)?r?null:[]:n[r?"find":"filter"](t,function(n){for(var t in i)if(i[t]!==n[t])return!1;return!0})},n.findWhere=function(t,i){return n.where(t,i,!0)},n.max=function(t,i,r){if(!i&&n.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!i&&n.isEmpty(t))return-Infinity;var f={computed:-Infinity,value:-Infinity};return u(t,function(n,t,u){var e=i?i.call(r,n,t,u):n;e>=f.computed&&(f={value:n,computed:e})}),f.value},n.min=function(t,i,r){if(!i&&n.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!i&&n.isEmpty(t))return Infinity;var f={computed:Infinity,value:Infinity};return u(t,function(n,t,u){var e=i?i.call(r,n,t,u):n;e<f.computed&&(f={value:n,computed:e})}),f.value},n.shuffle=function(t){var r,f=0,i=[];return u(t,function(t){r=n.random(f++),i[f-1]=i[r],i[r]=t}),i},l=function(t){return n.isFunction(t)?t:function(n){return n[t]}},n.sortBy=function(t,i,r){var u=l(i);return n.pluck(n.map(t,function(n,t,i){return{value:n,index:t,criteria:u.call(r,n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(i<r||r===void 0)return-1}return n.index<t.index?-1:1}),"value")},d=function(t,i,r,f){var e={},o=l(i||n.identity);return u(t,function(n,i){var u=o.call(r,n,i,t);f(e,u,n)}),e},n.groupBy=function(t,i,r){return d(t,i,r,function(t,i,r){(n.has(t,i)?t[i]:t[i]=[]).push(r)})},n.countBy=function(t,i,r){return d(t,i,r,function(t,i){n.has(t,i)||(t[i]=0),t[i]++})},n.sortedIndex=function(t,i,r,u){var e;r=r==null?n.identity:l(r);for(var s=r.call(u,i),f=0,o=t.length;f<o;)e=f+o>>>1,r.call(u,t[e])<s?f=e+1:o=e;return f},n.toArray=function(t){return t?n.isArray(t)?r.call(t):t.length===+t.length?n.map(t,n.identity):n.values(t):[]},n.size=function(t){return t==null?0:t.length===+t.length?t.length:n.keys(t).length},n.first=n.head=n.take=function(n,t,i){if(n!=null)return t!=null&&!i?r.call(n,0,t):n[0]},n.initial=function(n,t,i){return r.call(n,0,n.length-(t==null||i?1:t))},n.last=function(n,t,i){if(n!=null)return t==null||i?n[n.length-1]:r.call(n,Math.max(n.length-t,0))},n.rest=n.tail=n.drop=function(n,t,i){return r.call(n,t==null||i?1:t)},n.compact=function(t){return n.filter(t,n.identity)},g=function(t,i,r){return u(t,function(t){n.isArray(t)?i?p.apply(r,t):g(t,i,r):r.push(t)}),r},n.flatten=function(n,t){return g(n,t,[])},n.without=function(t){return n.difference(t,r.call(arguments,1))},n.uniq=n.unique=function(t,i,r,f){n.isFunction(i)&&(f=r,r=i,i=!1);var s=r?n.map(t,r,f):t,o=[],e=[];return u(s,function(r,u){(i?u&&e[e.length-1]===r:n.contains(e,r))||(e.push(r),o.push(t[u]))}),o},n.union=function(){return n.uniq(h.apply(f,arguments))},n.intersection=function(t){var i=r.call(arguments,1);return n.filter(n.uniq(t),function(t){return n.every(i,function(i){return n.indexOf(i,t)>=0})})},n.difference=function(t){var i=h.apply(f,r.call(arguments,1));return n.filter(t,function(t){return!n.contains(i,t)})},n.zip=function(){for(var i=r.call(arguments),u=n.max(n.pluck(i,"length")),f=new Array(u),t=0;t<u;t++)f[t]=n.pluck(i,""+t);return f},n.object=function(n,t){var r,i,u;if(n==null)return{};for(r={},i=0,u=n.length;i<u;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r},n.indexOf=function(t,i,r){if(t==null)return-1;var u=0,f=t.length;if(r)if(typeof r=="number")u=r<0?Math.max(0,f+r):r;else return u=n.sortedIndex(t,i),t[u]===i?u:-1;if(c&&t.indexOf===c)return t.indexOf(i,r);for(;u<f;u++)if(t[u]===i)return u;return-1},n.lastIndexOf=function(n,t,i){var u,r;if(n==null)return-1;if(u=i!=null,ht&&n.lastIndexOf===ht)return u?n.lastIndexOf(t,i):n.lastIndexOf(t);for(r=u?i:n.length;r--;)if(n[r]===t)return r;return-1},n.range=function(n,t,i){arguments.length<=1&&(t=n||0,n=0),i=arguments[2]||1;for(var r=Math.max(Math.ceil((t-n)/i),0),u=0,f=new Array(r);u<r;)f[u++]=n,n+=i;return f},n.bind=function(n,t){if(n.bind===w&&w)return w.apply(n,r.call(arguments,1));var i=r.call(arguments,2);return function(){return n.apply(t,i.concat(r.call(arguments)))}},n.partial=function(n){var t=r.call(arguments,1);return function(){return n.apply(this,t.concat(r.call(arguments)))}},n.bindAll=function(t){var i=r.call(arguments,1);return i.length===0&&(i=n.functions(t)),u(i,function(i){t[i]=n.bind(t[i],t)}),t},n.memoize=function(t,i){var r={};return i||(i=n.identity),function(){var u=i.apply(this,arguments);return n.has(r,u)?r[u]:r[u]=t.apply(this,arguments)}},n.delay=function(n,t){var i=r.call(arguments,2);return setTimeout(function(){return n.apply(null,i)},t)},n.defer=function(t){return n.delay.apply(n,[t,1].concat(r.call(arguments,1)))},n.throttle=function(n,t){var r,u,i,f,e=0,o=function(){e=new Date,i=null,f=n.apply(r,u)};return function(){var s=new Date,h=t-(s-e);return r=this,u=arguments,h<=0?(clearTimeout(i),i=null,e=s,f=n.apply(r,u)):i||(i=setTimeout(o,h)),f}},n.debounce=function(n,t,i){var r,u;return function(){var f=this,e=arguments,o=function(){r=null,i||(u=n.apply(f,e))},s=i&&!r;return clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},n.once=function(n){var i=!1,t;return function(){return i?t:(i=!0,t=n.apply(this,arguments),n=null,t)}},n.wrap=function(n,t){return function(){var i=[n];return p.apply(i,arguments),t.apply(this,i)}},n.compose=function(){var n=arguments;return function(){for(var i=arguments,t=n.length-1;t>=0;t--)i=[n[t].apply(this,i)];return i[0]}},n.after=function(n,t){return n<=0?t():function(){if(--n<1)return t.apply(this,arguments)}},n.keys=wt||function(t){var i,r;if(t!==Object(t))throw new TypeError("Invalid object");i=[];for(r in t)n.has(t,r)&&(i[i.length]=r);return i},n.values=function(t){var r=[],i;for(i in t)n.has(t,i)&&r.push(t[i]);return r},n.pairs=function(t){var r=[],i;for(i in t)n.has(t,i)&&r.push([i,t[i]]);return r},n.invert=function(t){var r={},i;for(i in t)n.has(t,i)&&(r[t[i]]=i);return r},n.functions=n.methods=function(t){var r=[],i;for(i in t)n.isFunction(t[i])&&r.push(i);return r.sort()},n.extend=function(n){return u(r.call(arguments,1),function(t){if(t)for(var i in t)n[i]=t[i]}),n},n.pick=function(n){var t={},i=h.apply(f,r.call(arguments,1));return u(i,function(i){i in n&&(t[i]=n[i])}),t},n.omit=function(t){var u={},e=h.apply(f,r.call(arguments,1)),i;for(i in t)n.contains(e,i)||(u[i]=t[i]);return u},n.defaults=function(n){return u(r.call(arguments,1),function(t){if(t)for(var i in t)n[i]==null&&(n[i]=t[i])}),n},n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t},n.tap=function(n,t){return t(n),n},a=function(t,i,r,u){var l,v,f,e,h,c,s;if(t===i)return t!==0||1/t==1/i;if(t==null||i==null)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),l=o.call(t),l!=o.call(i))return!1;switch(l){case"[object String]":return t==String(i);case"[object Number]":return t!=+t?i!=+i:t==0?1/t==1/i:t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}if(typeof t!="object"||typeof i!="object")return!1;for(v=r.length;v--;)if(r[v]==t)return u[v]==i;if(r.push(t),u.push(i),f=0,e=!0,l=="[object Array]"){if(f=t.length,e=f==i.length,e)while(f--)if(!(e=a(t[f],i[f],r,u)))break}else{if(h=t.constructor,c=i.constructor,h!==c&&!(n.isFunction(h)&&h instanceof h&&n.isFunction(c)&&c instanceof c))return!1;for(s in t)if(n.has(t,s)&&(f++,!(e=n.has(i,s)&&a(t[s],i[s],r,u))))break;if(e){for(s in i)if(n.has(i,s)&&!f--)break;e=!f}}return r.pop(),u.pop(),e},n.isEqual=function(n,t){return a(n,t,[],[])},n.isEmpty=function(t){if(t==null)return!0;if(n.isArray(t)||n.isString(t))return t.length===0;for(var i in t)if(n.has(t,i))return!1;return!0},n.isElement=function(n){return!!(n&&n.nodeType===1)},n.isArray=pt||function(n){return o.call(n)=="[object Array]"},n.isObject=function(n){return n===Object(n)},u(["Arguments","Function","String","Number","Date","RegExp"],function(t){n["is"+t]=function(n){return o.call(n)=="[object "+t+"]"}}),n.isArguments(arguments)||(n.isArguments=function(t){return!!(t&&n.has(t,"callee"))}),typeof/./!="function"&&(n.isFunction=function(n){return typeof n=="function"}),n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},n.isNaN=function(t){return n.isNumber(t)&&t!=+t},n.isBoolean=function(n){return n===!0||n===!1||o.call(n)=="[object Boolean]"},n.isNull=function(n){return n===null},n.isUndefined=function(n){return n===void 0},n.has=function(n,t){return yt.call(n,t)},n.noConflict=function(){return y._=at,this},n.identity=function(n){return n},n.times=function(n,t,i){for(var u=Array(n),r=0;r<n;r++)u[r]=t.call(i,r);return u},n.random=function(n,t){return t==null&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},e={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}},e.unescape=n.invert(e.escape),ct={escape:new RegExp("["+n.keys(e.escape).join("")+"]","g"),unescape:new RegExp("("+n.keys(e.unescape).join("|")+")","g")},n.each(["escape","unescape"],function(t){n[t]=function(n){return n==null?"":(""+n).replace(ct[t],function(n){return e[t][n]})}}),n.result=function(t,i){if(t==null)return null;var r=t[i];return n.isFunction(r)?r.call(t):r},n.mixin=function(t){u(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return p.apply(t,arguments),v.call(this,r.apply(n,t))}})},lt=0,n.uniqueId=function(n){var t=++lt+"";return n?n+t:t},n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var nt=/(.)^/,bt={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},kt=/\\|'|\r|\n|\t|\u2028|\u2029/g;n.template=function(t,i,r){var f,e;r=n.defaults({},r,n.templateSettings);var h=new RegExp([(r.escape||nt).source,(r.interpolate||nt).source,(r.evaluate||nt).source].join("|")+"|$","g"),o=0,u="__p+='";t.replace(h,function(n,i,r,f,e){return u+=t.slice(o,e).replace(kt,function(n){return"\\"+bt[n]}),i&&(u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),r&&(u+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),f&&(u+="';\n"+f+"\n__p+='"),o=e+n.length,n}),u+="';\n",r.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{f=new Function(r.variable||"obj","_",u)}catch(s){s.source=u;throw s;}return i?f(i,n):(e=function(t){return f.call(this,t,n)},e.source="function("+(r.variable||"obj")+"){\n"+u+"}",e)},n.chain=function(t){return n(t).chain()},v=function(t){return this._chain?n(t).chain():t},n.mixin(n),u(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=f[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),(t=="shift"||t=="splice")&&n.length===0&&delete n[0],v.call(this,n)}}),u(["concat","join","slice"],function(t){var i=f[t];n.prototype[t]=function(){return v.call(this,i.apply(this._wrapped,arguments))}}),n.extend(n.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)})()},{}],23:[function(n,t,i){function r(n){return n instanceof Array||Array.isArray(n)||n&&n!==Object.prototype&&r(n.__proto__)}function u(n){return n instanceof RegExp||typeof n=="object"&&Object.prototype.toString.call(n)==="[object RegExp]"}function e(n){if(n instanceof Date)return!0;if(typeof n!="object")return!1;var t=Date.prototype&&f(Date.prototype),i=n.__proto__&&f(n.__proto__);return JSON.stringify(i)===JSON.stringify(t)}var l=n("events"),o,s;i.isArray=r,i.isDate=function(n){return Object.prototype.toString.call(n)==="[object Date]"},i.isRegExp=function(n){return Object.prototype.toString.call(n)==="[object RegExp]"},i.print=function(){},i.puts=function(){},i.debug=function(){},i.inspect=function(n,t,o,s){function a(n,o){var d,w,y,g,v,b,s,nt,p,k,tt;if(n&&typeof n.inspect=="function"&&n!==i&&!(n.constructor&&n.constructor.prototype===n))return n.inspect(o);switch(typeof n){case"undefined":return c("undefined","undefined");case"string":return d="'"+JSON.stringify(n).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",c(d,"string");case"number":return c(""+n,"number");case"boolean":return c(""+n,"boolean")}return n===null?c("null","null"):(w=h(n),y=t?f(n):w,typeof n=="function"&&y.length===0)?u(n)?c(""+n,"regexp"):(g=n.name?": "+n.name:"",c("[Function"+g+"]","special")):e(n)&&y.length===0?c(n.toUTCString(),"date"):(r(n)?(b="Array",s=["[","]"]):(b="Object",s=["{","}"]),typeof n=="function"?(nt=n.name?": "+n.name:"",v=u(n)?" "+n:" [Function"+nt+"]"):v="",e(n)&&(v=" "+n.toUTCString()),y.length===0)?s[0]+v+s[1]:o<0?u(n)?c(""+n,"regexp"):c("[Object]","special"):(l.push(n),p=y.map(function(t){var i,u;if(n.__lookupGetter__&&(n.__lookupGetter__(t)?u=n.__lookupSetter__(t)?c("[Getter/Setter]","special"):c("[Getter]","special"):n.__lookupSetter__(t)&&(u=c("[Setter]","special"))),w.indexOf(t)<0&&(i="["+t+"]"),u||(l.indexOf(n[t])<0?(u=o===null?a(n[t]):a(n[t],o-1),u.indexOf("\n")>-1&&(u=r(n)?u.split("\n").map(function(n){return"  "+n}).join("\n").substr(2):"\n"+u.split("\n").map(function(n){return"   "+n}).join("\n"))):u=c("[Circular]","special")),typeof i=="undefined"){if(b==="Array"&&t.match(/^\d+$/))return u;i=JSON.stringify(""+t),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=c(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=c(i,"string"))}return i+": "+u}),l.pop(),k=0,tt=p.reduce(function(n,t){return k++,t.indexOf("\n")>=0&&k++,n+t.length+1},0),tt>50?s[0]+(v===""?"":v+"\n ")+" "+p.join(",\n  ")+" "+s[1]:s[0]+v+" "+p.join(", ")+" "+s[1])}var l=[],c=function(n,t){var r={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i={special:"cyan",number:"blue",boolean:"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[t];return i?"\x1b["+r[i][0]+"m"+n+"\x1b["+r[i][1]+"m":n};return s||(c=function(n){return n}),a(n,typeof o=="undefined"?2:o)},o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i.log=function(){},i.pump=null;var h=Object.keys||function(n){var t=[],i;for(i in n)t.push(i);return t},f=Object.getOwnPropertyNames||function(n){var i=[],t;for(t in n)Object.hasOwnProperty.call(n,t)&&i.push(t);return i},c=Object.create||function(n,t){var i,r;if(n===null)i={__proto__:null};else{if(typeof n!="object")throw new TypeError("typeof prototype["+typeof n+"] != 'object'");r=function(){},r.prototype=n,i=new r,i.__proto__=n}return typeof t!="undefined"&&Object.defineProperties&&Object.defineProperties(i,t),i};i.inherits=function(n,t){n.super_=t,n.prototype=c(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})},s=/%[sdj%]/g,i.format=function(n){var f,t,u;if(typeof n!="string"){for(f=[],t=0;t<arguments.length;t++)f.push(i.inspect(arguments[t]));return f.join(" ")}var t=1,r=arguments,e=r.length,o=String(n).replace(s,function(n){if(n==="%%")return"%";if(t>=e)return n;switch(n){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":return JSON.stringify(r[t++]);default:return n}});for(u=r[t];t<e;u=r[++t])o+=u===null||typeof u!="object"?" "+u:" "+i.inspect(u);return o}},{events:16}],24:[function(n,t,i){var r=n("./frame").Frame,u=n("util"),f=i.chooseProtocol=function(n){switch(n.version){case 1:var t=function(n){return new r(n)};return t.encode=function(n){return u.format("%j",n)},t.version=1,t.versionLong="Version 1",t.type="version",t;default:throw"unrecognized version";}}},{util:23,"./frame":6}],17:[function(n,t,i){var f=n("./protocol").chooseProtocol,e=n("events").EventEmitter,u=n("underscore"),r=i.Connection=function(n){n=u.defaults(n||{},{host:"127.0.0.1",enableGestures:!1,port:6437}),this.host=n.host,this.port=n.port;this.on("ready",function(){this.enableGestures(n.enableGestures)})};r.prototype.handleOpen=function(){this.emit("connect")},r.prototype.enableGestures=function(n){this.gesturesEnabled=n?!0:!1,this.send(this.protocol.encode({enableGestures:this.gesturesEnabled}))},r.prototype.handleClose=function(){this.startReconnection(),this.emit("disconnect")},r.prototype.startReconnection=function(){var n=this;setTimeout(function(){n.connect()},1e3)},r.prototype.disconnect=function(){this.socket&&(this.teardownSocket(),this.socket=undefined,this.protocol=undefined)},r.prototype.handleData=function(n){var i=JSON.parse(n),t;this.protocol===undefined?(t=this.protocol=f(i),this.emit("ready")):t=this.protocol(i),this.emit(t.type,t)},r.prototype.connect=function(){return this.socket&&this.teardownSocket(),this.socket=this.setupSocket(),!0},r.prototype.send=function(n){this.socket.send(n)},u.extend(r.prototype,e.prototype)},{events:16,"./protocol":24,underscore:22}],21:[function(n,t,i){var f=n("./frame").Frame,u=n("ws"),r=i.Connection=n("./base_connection").Connection;r.prototype.setupSocket=function(){var t=this,n=new u("ws://"+this.host+":"+this.port);n.on("open",function(){t.handleOpen()});n.on("message",function(n){t.handleData(n)});n.on("close",function(){t.handleClose()});n.on("error",function(){t.startReconnection()});return n},r.prototype.teardownSocket=function(){this.socket.close(),delete this.socket,delete this.protocol}},{"./frame":6,"./base_connection":17,ws:25}],25:[function(n,t){(function(n){t.exports=function(){return n.WebSocket||n.MozWebSocket}})(window)},{}],18:[function(n,t,i){var f=n("events").EventEmitter,u=n("../vector").Vector,e=n("underscore"),r=i.Region=function(n,t){this.start=new u(n),this.end=new u(t),this.enteredFrame=null};r.prototype.hasPointables=function(n){for(var t,i=0;i!=n.pointables.length;i++)if(t=n.pointables[i].tipPosition,t.x>=this.start.x&&t.x<=this.end.x&&t.y>=this.start.y&&t.y<=this.end.y&&t.z>=this.start.z&&t.z<=this.end.z)return!0;return!1},r.prototype.listener=function(n){var t=this;return n&&n.nearThreshold&&this.setupNearRegion(n.nearThreshold),function(n){return t.updatePosition(n)}},r.prototype.clipper=function(){var n=this;return function(t){return n.updatePosition(t),n.enteredFrame?t:null}},r.prototype.setupNearRegion=function(n){var i=this.nearRegion=new r([this.start.x-n,this.start.y-n,this.start.z-n],[this.end.x+n,this.end.y+n,this.end.z+n]),t=this;i.on("enter",function(n){t.emit("near",n)});i.on("exit",function(n){t.emit("far",n)});t.on("exit",function(n){t.emit("near",n)})},r.prototype.updatePosition=function(n){return this.nearRegion&&this.nearRegion.updatePosition(n),this.hasPointables(n)&&this.enteredFrame==null?(this.enteredFrame=n,this.emit("enter",this.enteredFrame)):this.hasPointables(n)||this.enteredFrame==null||(this.enteredFrame=null,this.emit("exit",this.enteredFrame)),n},r.prototype.normalize=function(n){return new u([(n.x-this.start.x)/(this.end.x-this.start.x),(n.y-this.start.y)/(this.end.y-this.start.y),(n.z-this.start.z)/(this.end.z-this.start.z)])},r.prototype.mapToXY=function(n,t,i){var f=this.normalize(n),r=f.x,u=f.y;return r>1?r=1:r<-1&&(r=-1),u>1?u=1:u<-1&&(u=-1),[(r+1)/2*t,(1-u)/2*i,f.z]},e.extend(r.prototype,f.prototype)},{events:16,"../vector":10,underscore:22}]},{},[1,2,3]);
/*!Fix console.log if it doesn't exist */
(function(n){n.console||(n.console={log:function(){}})})(window);
/*!
 *	Leap Reveal - reveal.leap.js
 *	Copyright (c) 2013, Mike Behnke, @LocalPCGuy
 *  MIT License
 *
 *  Based on the work done by:
 *		Leap Deck - deck.leap.js
 *		Copyright (c) 2013, Mike Parsons
 *	All rights reserved.
 *
 *	This extension adds the ability to navigate Reveal.JS slides using the Leap Motion interface device.
 *
 *  Gestures detected:
 *		Swipe 		-> Changes slides in the appropriate direction (up, down, left, right)
 *		KeyTap 		-> Next Slide
 *		ScreenTap 	-> Prev Slide
 *		Circle 		-> Reload
 */
(function(n){function u(n,t,i,r){var u,f;return typeof n=="undefined"||typeof t=="undefined"||typeof i=="undefined"||typeof r=="undefined"?"undetermined":(u=Math.abs(n-i),f=Math.abs(t-r),u>=f?n>i?"left":"right":t>r?"up":"down")}function f(r){var s,h,c,l,o,f;r.valid&&r.gestures&&r.gestures.length>0&&(f=r.gestures[0],f.type!=="swipe"||i||t(function(){(f.state==="update"||f.state==="stop")&&(i=!0,s=f.startPosition.x,h=f.startPosition.y,c=f.position.x,l=f.position.y,o=u(s,h,c,l),o!=="undetermined"?e(o):i=!1)},0,50),f.type==="keyTap"&&t(function(){console.log("keyTap"),n.next()},1,100),f.type==="screenTap"&&t(function(){console.log("screenTap"),n.prev()},2,100),f.type==="circle"&&t(function(){console.log("circle"),location.reload()},3,500))}function e(i){t(function(){i==="right"?(console.log("swipeRight"),n.left()):i==="left"?(console.log("swipeLeft"),n.right()):i==="up"?(console.log("swipeDown"),n.up()):i==="down"&&(console.log("swipeUp"),n.down())},4,100)}function t(n,t,i){clearTimeout(r[t]),r[t]=setTimeout(function(){n()},i)}var i=!1,o=document.getElementById("vid"),r;Leap.loop({enableGestures:!0},function(n){f(n)}),n.addEventListener("slidechanged",function(){i=!1}),r=[]})(Reveal)